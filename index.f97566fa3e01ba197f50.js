(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUr1=t.baseUr1,this._headers=t.headers}var n,r;return n=e,(r=[{key:"_parseResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getCardsServer",value:function(){var e=this;return fetch("".concat(this._baseUr1,"/cards"),{headers:this._headers}).then((function(t){return e._parseResponse(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._baseUr1,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._parseResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUr1,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._parseResponse(e)}))}},{key:"clickLike",value:function(e){var t=this;return fetch("".concat(this._baseUr1,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._parseResponse(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this._baseUr1,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._parseResponse(e)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUr1,"/users/me"),{headers:this._headers}).then((function(t){return e._parseResponse(t)}))}},{key:"editUserInfo",value:function(e){var t=this;return fetch("".concat(this._baseUr1,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.username,about:e.job})}).then((function(e){return t._parseResponse(e)}))}},{key:"editAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUr1,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return t._parseResponse(e)}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var u=function(){function e(t,n,r){var o,u,a,c=this,l=t.data,s=t.templateSelector,f=t.userId,p=t.handleSetLike,y=t.handleDeleteLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,a=function(){c._likeButton.addEventListener("click",(function(){c._handleLikeCard()})),c._deleteButton.addEventListener("click",(function(){c._handleDeleteImageClick(c._cardElement,c._cardId)})),c._elementMask.addEventListener("click",(function(){return c._handleImageClick(c._link,c._name)}))},(u=i(u="_setEventListeners"))in o?Object.defineProperty(o,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[u]=a,this._name=l.name,this._link=l.link,this._likes=l.likes,this._cardId=l._id,this._cardOwnerId=l.owner._id,this._templateSelector=s,this._userId=f,this._handleImageClick=n,this._handleDeleteImageClick=r,this._handleSetLike=p,this._handleDeleteLike=y}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardElement=document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0),this._cardElement}},{key:"createCard",value:function(){return this._elementCard=this._getTemplate(),this._elementMask=this._elementCard.querySelector(".element__mask"),this._elementText=this._elementCard.querySelector(".element__text"),this._elementMask.src=this._link,this._elementMask.alt=this._name,this._elementText.textContent=this._name,this._likeButton=this._elementCard.querySelector(".element__group"),this._likeNumber=this._elementCard.querySelector(".element__likes-number"),this._deleteButton=this._elementCard.querySelector(".element__delete"),this._isCardLiked(),this._hasDeleteButton(),this._likeNumber.textContent=this._likes.length,this._setEventListeners(),this._elementCard}},{key:"_isCardLiked",value:function(){var e=this;this._likes.some((function(t){return e._userId===t._id}))&&this._likeButton.classList.add("element__group_active")}},{key:"handleLike",value:function(e){this._likes=e.likes,this._likeNumber.textContent=this._likes.length,this._likeButton.classList.toggle("element__group_active")}},{key:"_handleLikeCard",value:function(){this._likeButton.classList.contains("element__group_active")?this._handleDeleteLike(this._cardId):this._handleSetLike(this._cardId)}},{key:"_hasDeleteButton",value:function(){this._userId!==this._cardOwnerId&&this._deleteButton.remove()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}var l=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._containerSelector=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){return t._renderer(e)}))}},{key:"setItem",value:function(e){this._containerSelector.prepend(e)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var p=function(){function e(t){var n=t.username,r=t.job,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{username:this._username.textContent,job:this._job.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._username.textContent=e.name,this._job.textContent=e.about,this._avatar.src=e.avatar}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.classList.add(this._config.errorClass),t.textContent=e.validationMessage,e.classList.add(this._config.inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._config.errorClass),t.textContent="",e.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._config.invactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._config.invactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"resetSubmit",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}var _=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=function(e){"Escape"===e.key&&i.close()},(r=v(r="_handleEscClose"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this._popupItem=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupItem.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupItem.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupItem.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function j(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._handleFormSubmit=r,t._popupFormItem=t._popupItem.querySelector(".popup__form"),t._popupList=t._popupFormItem.querySelectorAll(".popup__input"),t._submitButton=t._popupFormItem.querySelector(".popup__submit"),t._submitButtonText=t._submitButton.textContent,t}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._popupList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;k(O(u.prototype),"setEventListeners",this).call(this),this._popupFormItem.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){k(O(u.prototype),"close",this).call(this),this._popupFormItem.reset()}},{key:"loading",value:function(e){this._submitButton.textContent=e?"Сохранение...":this._submitButtonText}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(_);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===L(o)?o:String(o)),r)}var o}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function q(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImage=t._popupItem.querySelector(".popup__img"),t._popupName=t._popupItem.querySelector(".popup__text"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupName.textContent=t,this._popupImage.alt=t,I(B(u.prototype),"open",this).call(this)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(_);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},A.apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function V(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(o){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleDeleteCard;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,n))._handleDeleteCard=r,t._submit=t._popupItem.querySelector(".popup__submit"),t}return t=u,(n=[{key:"open",value:function(e,t){this._cardElement=e,this._cardId=t,A(M(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;A(M(u.prototype),"setEventListeners",this).call(this),this._submit.addEventListener("click",(function(t){t.preventDefault(),e._handleDeleteCard(e._cardElement,e._cardId)}))}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(_),H=document.querySelector(".profile__edit-button"),$=document.querySelector(".popup_type_profile"),z=$.querySelector(".popup__input_type_name"),G=$.querySelector(".popup__input_type_job"),K=document.querySelector(".profile__add-button"),Q=$.querySelector(".popup__form"),W=document.querySelector(".popup_type_card").querySelector(".popup__form"),X=document.querySelector(".popup_type_avatar").querySelector(".popup__form"),Y=document.querySelector(".profile__avatar-btn"),Z=(document.querySelector(".profile__avatar"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",invactiveButtonClass:"popup__submit_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input_type_visible"});function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te,ne=new n({baseUr1:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"2fce0c70-799a-4f0e-9ef2-0095f8c235ab","Content-Type":"application/json"}});Promise.all([ne.getUserInfo(),ne.getCardsServer()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];se.setUserInfo(o),te=o._id,ie.renderItems(i)})).catch((function(e){console.log("Ошибка: ".concat(e))}));var re=function(e,t){le.open(e,t)},oe=function(e,t){ce.open(e,t)},ie=new l({renderer:function(e){ie.setItem(ue(e))}},".elements"),ue=function(e){var t=new u({data:e,templateSelector:".element-template",userId:te,handleSetLike:function(e){ne.clickLike(e).then((function(e){t.handleLike(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))},handleDeleteLike:function(e){ne.deleteLike(e).then((function(e){t.handleLike(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}},re,oe);return t.createCard()},ae=new P({popupSelector:".popup_type_card",handleFormSubmit:function(e){ae.loading(!0),ne.addCard(e).then((function(e){ie.setItem(ue(e)),ae.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){ae.loading(!1)}))}});ae.setEventListeners(),K.addEventListener("click",(function(){me.resetSubmit(),ae.open()}));var ce=new J({popupSelector:".popup_type_delete-card",handleDeleteCard:function(e,t){ne.deleteCard(t).then((function(){e.remove(),ce.close()})).catch((function(e){console.log("Ошибка: ".concat(e))}))}});ce.setEventListeners();var le=new x("#image-popup");le.setEventListeners();var se=new p({username:".profile__name",job:".profile__text",avatar:".profile__avatar"}),fe=new P({popupSelector:".popup_type_profile",handleFormSubmit:function(e){fe.loading(!0),ne.editUserInfo(e).then((function(e){se.setUserInfo(e),fe.close()})).catch((function(e){console.log("Ошибка: ${err}")})).finally((function(){fe.loading(!1)}))}});fe.setEventListeners(),H.addEventListener("click",(function(){pe()}));var pe=function(){var e,t,n,r=se.getUserInfo();t=(e={username:r.username,job:r.job}).username,n=e.job,z.value=t,G.value=n,he.resetSubmit(),fe.open()},ye=new P({popupSelector:".popup_type_avatar",handleFormSubmit:function(e){ye.loading(!0),ne.editAvatar(e).then((function(e){se.setUserInfo(e),ye.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){ye.loading(!1)}))}});ye.setEventListeners(),Y.addEventListener("click",(function(){de.resetSubmit(),ye.open()}));var he=new m(Z,Q);he.enableValidation();var me=new m(Z,W);me.enableValidation();var de=new m(Z,X);de.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hCM0IsR0FBSXlDLFdBQVc1TCxHQUNaRixNQUFLLFNBQUNFLEdBRUwwSixHQUFTQyxZQUFZM0osR0FDckIyTCxHQUFnQi9FLE9BQ2xCLElBQ0NrRCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksV0FBRCxPQUFZRixHQUN6QixJQUNDaUIsU0FBUSxXQUNQVyxHQUFnQmIsU0FBUSxFQUMxQixHQUNKLElBRUZhLEdBQWdCVixvQkFHaEJqQyxFQUFpQjVILGlCQUFpQixTQUFTLFdBQ3pDeUssR0FBb0JWLGNBQ3BCUSxHQUFnQnhCLE1BQ2xCLElBT0EsSUFBTXVCLEdBQXVCLElBQUkvRyxFQUFjc0UsRUFBa0JKLEdBRWpFNkMsR0FBcUJJLG1CQUVyQixJQUFNWixHQUFvQixJQUFJdkcsRUFBY3NFLEVBQWtCSCxHQUU5RG9DLEdBQWtCWSxtQkFFbEIsSUFBTUQsR0FBc0IsSUFBSWxILEVBQWNzRSxFQUFrQkYsR0FFaEU4QyxHQUFvQkMsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5fYmFzZVVyMSA9IG9wdGlvbnMuYmFzZVVyMTtcclxuICAgICAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gICAgfVxyXG4gICAgLy8g0LzQtdGC0L7QtCDQv9GA0L7QstC10YDRj9C10YIg0L/RgNC40YjQtdC7INC70Lgg0L7RgtCy0LXRgiDQvtGCINGB0LXRgNCy0LXRgNCwXHJcbiAgICBfcGFyc2VSZXNwb25zZShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDQv9C+0LvRg9GH0LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQuiDRgSDRgdC10YDQstC10YDQsFxyXG4gICAgZ2V0Q2FyZHNTZXJ2ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcjF9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fcGFyc2VSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQvdCwINGB0LXRgNCy0LXRgCBcclxuICAgIGFkZENhcmQoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXIxfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX3BhcnNlUmVzcG9uc2UocmVzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LAgIFxyXG4gICAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVyMX0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fcGFyc2VSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INGD0YHRgtCw0L3QstC60Lgg0LvQsNC50LrQsFxyXG4gICAgY2xpY2tMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXIxfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9wYXJzZVJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0YPQtNCw0LvQtdC90LjRjyDQu9Cw0LnQutCwXHJcbiAgICBkZWxldGVMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXIxfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9wYXJzZVJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0LTQtdC70LDQtdGCINC30LDQv9GA0L7RgSDRgdC10YDQstC10YDRgyDQuCDQv9C+0LvRg9GH0LDQtdGCINC00LDQvdC90YvQtSDQv9GA0L7RhNC40LvRj1xyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcjF9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fcGFyc2VSZXNwb25zZShyZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INC40LfQvNC10L3Rj9C10YIg0LTQsNC90L3Ri9C1INC/0YDQvtGE0LjQu9GPINC90LAg0YHQtdGA0LLQtdGA0LVcclxuICAgIGVkaXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcjF9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogZGF0YS5qb2JcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9wYXJzZVJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0LjQt9C80LXQvdGP0LXRgiDQsNCy0LDRgtCw0YAg0L3QsCDRgdC10YDQstC10YDQtVxyXG4gICAgZWRpdEF2YXRhcihkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLl9iYXNlVXIxfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBkYXRhLmxpbmtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9wYXJzZVJlc3BvbnNlKHJlcykpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL9GN0LrRgdC/0L7RgNGCINC60LvQsNGB0YHQsCBBUElcclxuZXhwb3J0IHtBcGl9OyIsImNsYXNzIENhcmQge1xyXG5cdGNvbnN0cnVjdG9yKHtkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCB1c2VySWQsIGhhbmRsZVNldExpa2UsIGhhbmRsZURlbGV0ZUxpa2UgfSwgaGFuZGxlSW1hZ2VDbGljaywgaGFuZGxlRGVsZXRlSW1hZ2VDbGljaykge1xyXG5cdFx0dGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuXHRcdHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcblx0XHR0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcblx0XHR0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuXHRcdHRoaXMuX2NhcmRPd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcblx0XHR0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuXHRcdHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuXHRcdC8vdGhpcy5fYXBpID0gYXBpO1xyXG5cdFx0dGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcblx0XHR0aGlzLl9oYW5kbGVEZWxldGVJbWFnZUNsaWNrID0gaGFuZGxlRGVsZXRlSW1hZ2VDbGljaztcclxuXHRcdHRoaXMuX2hhbmRsZVNldExpa2UgPSBoYW5kbGVTZXRMaWtlO1xyXG5cdFx0dGhpcy5faGFuZGxlRGVsZXRlTGlrZSA9IGhhbmRsZURlbGV0ZUxpa2U7XHJcbiAgICB9XHJcblx0Ly/QstC+0LfQstGA0LDRidCw0LXRgiDRgNCw0LfQvNC10YLQutGDINC60LDRgNGC0L7Rh9C60LhcclxuXHRfZ2V0VGVtcGxhdGUoKXtcclxuXHRcdHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JykuY2xvbmVOb2RlKHRydWUpO1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG5cdH1cclxuXHJcbi8v0LzQtdGC0L7QtCDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuXHRjcmVhdGVDYXJkKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudENhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cdFx0dGhpcy5fZWxlbWVudE1hc2sgPSB0aGlzLl9lbGVtZW50Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbWFzaycpO1xyXG4gICAgXHR0aGlzLl9lbGVtZW50VGV4dCA9IHRoaXMuX2VsZW1lbnRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190ZXh0Jyk7XHJcbiAgICBcdHRoaXMuX2VsZW1lbnRNYXNrLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgXHRcdHRoaXMuX2VsZW1lbnRNYXNrLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgXHRcdHRoaXMuX2VsZW1lbnRUZXh0LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHRcdHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZ3JvdXAnKTtcclxuXHRcdHRoaXMuX2xpa2VOdW1iZXIgPSB0aGlzLl9lbGVtZW50Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZXMtbnVtYmVyJyk7XHJcblx0XHR0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlJyk7XHJcblx0XHR0aGlzLl9pc0NhcmRMaWtlZCgpO1xyXG5cdFx0dGhpcy5faGFzRGVsZXRlQnV0dG9uKCk7XHJcblx0XHR0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG5cdFx0dGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHRcdHJldHVybiB0aGlzLl9lbGVtZW50Q2FyZDtcclxuXHR9XHJcblxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YPQtNCw0LvQtdC90LjRjzo60LvQsNC50LrQsDo60LrQu9C40LrQsCDQv9C+INC60LDRgNGC0LjQvdC60LVcclxuXHRfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcblx0XHR0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuX2hhbmRsZUxpa2VDYXJkKCl9KTtcclxuXHRcdHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHt0aGlzLl9oYW5kbGVEZWxldGVJbWFnZUNsaWNrKHRoaXMuX2NhcmRFbGVtZW50LCB0aGlzLl9jYXJkSWQpO30gKTtcclxuXHRcdHRoaXMuX2VsZW1lbnRNYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKSk7XHJcblx0fVxyXG5cclxuXHQvL9C/0YDQvtCy0LXRgNC60LAuINGB0YLQvtC40YIg0LvQuCDQu9Cw0LnQuiDQvdCwINC60LDRgNGC0L7Rh9C60LVcclxuXHRfaXNDYXJkTGlrZWQoKSB7XHJcblx0XHRpZiAodGhpcy5fbGlrZXMuc29tZSgodXNlcikgPT4ge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fdXNlcklkID09PSB1c2VyLl9pZDtcclxuXHRcdH0pKSB7XHJcblx0XHRcdHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fZ3JvdXBfYWN0aXZlJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvL9C/0L7RgdGC0LDQstC40YLRjC/Rg9C00LDQu9C40YLRjCDQu9Cw0LnQuiwg0LjQt9C80LXQvdC10L3QuNC1INC60L7Qu9C40YfQtdGB0YLQstCwINC70LDQudC60L7QslxyXG5cdGhhbmRsZUxpa2UoZGF0YSkge1xyXG5cdFx0dGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG5cdFx0dGhpcy5fbGlrZU51bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHRcdHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fZ3JvdXBfYWN0aXZlJyk7XHJcblx0ICB9XHJcblx0XHJcblxyXG5cdCAgX2hhbmRsZUxpa2VDYXJkKCkge1xyXG5cdFx0aWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19ncm91cF9hY3RpdmUnKSkge1xyXG5cdFx0XHR0aGlzLl9oYW5kbGVEZWxldGVMaWtlKHRoaXMuX2NhcmRJZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9oYW5kbGVTZXRMaWtlKHRoaXMuX2NhcmRJZCk7XHJcblx0XHR9XHJcblx0ICB9XHJcblx0LypcclxuXHRfaGFuZGxlTGlrZUNhcmQoKSB7XHJcblx0XHRjb25zb2xlLmxvZyh0aGlzLl9saWtlQnV0dG9uKTtcclxuXHRcdGlmICh0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fZ3JvdXBfYWN0aXZlJykpIHtcclxuXHRcdFx0dGhpcy5fYXBpLmRlbGV0ZUxpa2UodGhpcy5fY2FyZElkKVxyXG5cdFx0XHRcdC50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudF9fZ3JvdXBfYWN0aXZlJyk7XHJcblx0XHRcdFx0XHR0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX2FwaS5jbGlja0xpa2UodGhpcy5fY2FyZElkKVxyXG5cdFx0XHRcdC50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fZ3JvdXBfYWN0aXZlJyk7XHJcblx0XHRcdFx0XHR0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbiovXHJcblx0Ly/Qv9GA0L7QstC10YDRj9C10Lwg0LLQu9Cw0LTQtdC70YzRhtCwINC60LDRgNGC0L7Rh9C60Lgg0Lgg0YPQsdC40YDQsNC10Lwg0LrQvdC+0L/QutGDIERlbGV0ZVxyXG5cdF9oYXNEZWxldGVCdXR0b24oKSB7XHJcblx0XHRpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9jYXJkT3duZXJJZCkge1xyXG5cdFx0XHR0aGlzLl9kZWxldGVCdXR0b24ucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufVxyXG4vL9GN0LrRgdC/0L7RgNGCINC60LvQsNGB0YHQsFxyXG5leHBvcnQge0NhcmR9OyIsImNsYXNzIFNlY3Rpb24ge1xyXG4vL9CyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0L/QvtGB0YLRg9C/0LDRjtGCINC80LDRgdGB0LjQsiDQtNCw0L3QvdGL0YUgLiDRhNGD0L3QutGG0LjRjyDQvtGC0LLQtdGH0LDRjtGJ0LDRjyDQt9CwINC+0YLRgNC40YHQvtCy0LrRgy4g0LLRgtC+0YDQvtC5INC/0LDRgNCw0LzQtdGC0YAgLSDRgdC10LvQtdC60YLQvtGAXHJcbiAgICBjb25zdHJ1Y3RvciAoe3JlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lclNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcbi8v0LzQtdGC0L7QtCDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtGA0LjRgdC+0LLQutGDINCy0YHQtdGFINGN0LvQtdC80LXQvdGC0L7QslxyXG4gICAgcmVuZGVySXRlbXMoZGF0YSkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgZGF0YS5yZXZlcnNlKCkuZm9yRWFjaChpdGVtID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgfVxyXG4vLyAg0L/RgNC40L3QuNC80LDQtdC8INGN0LvQtdC80LXQvdGCINC4INCy0YHRgtCw0LLQu9GP0LXQvCDQtdCz0L4g0LIg0LrQvtC90YLQtdC50L3QtdGAXHJcbiAgICBzZXRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXJTZWxlY3Rvci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8v0Y3QutGB0L/QvtGA0YIg0LrQu9Cw0YHRgdCwIFNlY3Rpb25cclxuZXhwb3J0IHsgU2VjdGlvbiB9OyIsImNsYXNzIFVzZXJJbmZvIHtcclxuICAgIC8v0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQv9GA0LjQvdC40LzQsNC10YIg0L7QsdGK0LXQutGCINGBIDIg0YHQtdC70LXQutGC0LDRgNCw0LzQuCwg0LjQvNC10L3QuCDQuCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgIGNvbnN0cnVjdG9yKHsgdXNlcm5hbWUsIGpvYiwgYXZhdGFyfSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VybmFtZSk7XHJcbiAgICAgICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2IpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICAgIH1cclxuLy/QvNC10YLQvtC0INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRjNC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyY1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbi8v0LzQtdGC0L7QtCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRg1xyXG4gICAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJuYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL9GN0LrRgdC/0L7RgNGC0LjRgNGD0LXQvCDQutC70LDRgdGBIFVzZXJJbmZvXHJcbmV4cG9ydCB7IFVzZXJJbmZvIH07IiwiXHJcbmNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgfVxyXG4vL9C80LXRgtC+0LQg0L/QvtC60LDQt9CwINC+0YjQuNCx0L7QuiDQstCw0LvQuNC00LDRhtC40LhcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcbiAgLy/QvNC10YLQvtC0INGB0LrRgNGL0YLQuNGPINC+0YjQuNCx0L7QuiDQstCw0LvQuNC00LDRhtC40LhcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KXtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIC8v0LzQtdGC0L7QtCDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCl7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKXtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy/QvNC10YLQvtC0INC+0LHRhdC+0LTQsCBpbnB1dCDQvdCwINC+0YjQuNCx0LrQuFxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKXtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmludmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuICBcclxuICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnZhY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpe1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKXtcclxuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmVzZXRTdWJtaXQoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7IHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7fSlcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge0Zvcm1WYWxpZGF0b3J9OyIsImNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4vL9C80LXRgtC+0LQg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0L7QslxyXG4gICAgb3Blbigpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSXRlbS5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICB9XHJcbi8v0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QvtCyXHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICB9XHJcbi8v0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC90LAgRVNDXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgLy9ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4vL9C80LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L3QsCDQutGA0LXRgdGC0LjQuiwg0LAg0YLQsNC6INC20LUg0L3QsCDRgtC10LzQvdGL0Lkg0YTQvtC9INCy0L7QutGA0YPQsyDQutCw0YDRgtC40L3QutC4XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4vL9GN0LrRgdC/0L7RgNGC0YDRg9C10Lwg0LTQsNC90L3Ri9C5INC60LvQsNGB0YFcclxuZXhwb3J0IHtQb3B1cH07IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIC8v0L/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0YHQtdC70LXQutGC0L7RgCDQv9C+0L/QsNC/INC4INC60L7Qu9Cx0LvQtdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YtcclxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm1JdGVtID0gdGhpcy5fcG9wdXBJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwTGlzdCA9IHRoaXMuX3BvcHVwRm9ybUl0ZW0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybUl0ZW0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQnKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gICAgfVxyXG4vL9C80LXRgtC+0LQg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3BvcHVwTGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gICAgfVxyXG4vL9C00L7QsdCw0LLQu9GP0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC4INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQvNCx0LjRgtCwINGE0L7RgNC80YtcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtSXRlbS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuLy/QvNC10YLQvtC0INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybUl0ZW0ucmVzZXQoKTtcclxuICAgIH1cclxuLy/QmNC30LzQtdC90Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lgg0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60LhcclxuICAgIGxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICAgICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy/RjdC60YHQv9C+0YDRgtGA0YPQtdC8INC60LvQsNGB0YEgUG9wdXBXaXRoRm9ybVxyXG5leHBvcnQgeyBQb3B1cFdpdGhGb3JtIH07IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuIGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgLy/QsiDQutC+0L3RgdGC0YDRg9C60YLQvtGAINC/0YDQuNGB0YvQu9Cw0LXQvCDRgdC10LvQtdC60YLQvtGAINC/0L7Qv9Cw0L9cclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBOYW1lID0gdGhpcy5fcG9wdXBJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpO1xyXG4gICAgfVxyXG4vL9C00LDQvdC90YvQuSDQvNC10YLQvtC0INC/0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10YIg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgb3BlblxyXG4gICAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfTsiLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVEZWxldGVDYXJkIH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgICAgICB0aGlzLl9zdWJtaXQgPSB0aGlzLl9wb3B1cEl0ZW0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9CU0L7QsdCw0LLQu9GP0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQutC+0L3QutGA0LXRgtC90L7QuSDQutCw0YDRgtC+0YfQutC1INCyINC80L7QvNC10L3RgiDQvtGC0LrRgNGL0YLQuNGPINC/0L7QsNC/0LBcclxuICAgIG9wZW4oY2FyZEVsZW1lbnQsIGNhcmRJZCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDRgdC70YPRiNCw0YLQtdC70Ywg0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRi1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkRWxlbWVudCwgdGhpcy5fY2FyZElkKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG4vL9GN0LrRgdC/0L7RgNGC0YDRg9C10Lwg0LrQu9Cw0YHRgSBQb3B1cFdpdGhDb25maXJtYXRpb25cclxuZXhwb3J0IHsgUG9wdXBXaXRoQ29uZmlybWF0aW9uIH07IiwiICAgICAgICAgICAgICAgIC8qLS0tLS0tLSDQn9CV0KDQldCc0JXQndCd0KvQlSAtLS0tLS0tKi9cclxuXHJcbi8v0L3QsNGF0L7QtNC40Lwg0LrQvdC+0L/QutGDINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbi8v0L3QsNGF0L7QtNC40Lwg0L7QsdC70LDRgdGC0Ywg0LLRgdC10LPQviDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfcHJvZmlsZScpO1xyXG4vL9C90LDRhdC+0LTQuNC8INC40L3Qv9GD0YIg0LjQvNC10L3QuCAg0YTQvtGA0LzRiyDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9uYW1lJyk7XHJcbi8v0L3QsNGF0L7QtNC40Lwg0LjQvdC/0YPRgiDQtNC+0LvQttC90L7RgdGC0Lgg0YTQvtGA0LzRiyDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3Qgam9iSW5wdXQgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2pvYicpO1xyXG4vL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbi8v0L3QsNGF0L7QtNC40Lwg0YTQvtGA0LzRgyDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZVBvcHVwRm9ybSA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuLy/QvdCw0YXQvtC00LjQvCDQvtCx0LvQsNGB0YLRjCDQstGB0LXQs9C+INC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2NhcmQnKTtcclxuLy/QvdCw0YXQvtC00LjQvCDRhNC+0YDQvNGDINC/0L7Qv9Cw0L/QsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNhcmRQb3B1cEZvcm0gPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbi8v0L3QsNGF0L7QtNC40Lwg0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9hdmF0YXInKTtcclxuLy/QvdCw0YXQvtC00LjQvCDRhNC+0YDQvNGDINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5jb25zdCBmb3JtRWRpdEF2YXRhciA9IHBvcHVwRWRpdEF2YXRhci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuLy/QutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBidXR0b25FZGl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idG4nKTtcclxuLy/QsNCy0LDRgtCw0YAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuXHJcbiAgICAgICAgICAgIC8qLS0tLS0tLSDQmtCe0J3QpNCY0JMg0JTQm9CvINCS0JDQm9CY0JTQkNCm0JjQmCAtLS0tLS0tICovXHJcblxyXG4vL9C60L7QvdGE0LjQsyDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INC90L3Qv9GD0YLQvtCyINCyINGE0L7RgNC80LDRhVxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQnLFxyXG4gIGludmFjdGl2ZUJ1dHRvbkNsYXNzOidwb3B1cF9fc3VibWl0X2Rpc2FibGVkJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6J3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOidwb3B1cF9faW5wdXRfdHlwZV92aXNpYmxlJ1xyXG59O1xyXG5cclxuICAgICAgICAgIC8qLS0tLS0g0K3QmtCh0J/QntCg0KIg0J/QldCg0JXQnNCV0J3QndCr0KUg0Jgg0JrQntCd0KTQmNCT0JAgLS0tLS0qL1xyXG5cclxuLy8g0Y3QutGB0L/QvtGA0YLQuNGA0YPQtdC8INC00L/QtdGA0LXQvNC10L3QvdGL0LUsINC80LDRgdGB0LjQsiwg0LrQvtC90YTQuNCzINCyINC00YDQs9GD0LjQtSDRhNCw0LnQu9GLL9C60LvQsNGB0YHRi1xyXG4gIGV4cG9ydCB7IGVkaXRCdXR0b24sIGFkZEJ1dHRvbiwgbmFtZUlucHV0LCBqb2JJbnB1dCxcclxuICBjYXJkUG9wdXAsIGNhcmRQb3B1cEZvcm0sIHByb2ZpbGVQb3B1cEZvcm0sIHByb2ZpbGVQb3B1cCwgdmFsaWRhdGlvbkNvbmZpZywgXHJcbiAgZm9ybUVkaXRBdmF0YXIsIGJ1dHRvbkVkaXRBdmF0YXIsIGF2YXRhciB9O1xyXG5cdFxyXG4iLCIvLy0tLS0tLS0t0LjQvNC/0L7RgNGCINC60LvQsNGB0YHQvtCyLCDQv9C10YDQtdC80LXQvdC90YvRhSwg0LrQvtC90YTQuNCz0LAsINGB0YLQuNC70LXQuSwgQVBJLS0tLS0tLy9cclxuXHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgeyBBcGkgfSAgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IHsgcHJvZmlsZVBvcHVwRm9ybSwgbmFtZUlucHV0LCBqb2JJbnB1dCwgY2FyZFBvcHVwRm9ybSwgZWRpdEJ1dHRvbiwgYWRkQnV0dG9uLCBcclxudmFsaWRhdGlvbkNvbmZpZywgYnV0dG9uRWRpdEF2YXRhciwgZm9ybUVkaXRBdmF0YXIsIGF2YXRhcn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUFQSS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVyMTogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICcyZmNlMGM3MC03OTlhLTRmMGUtOWVmMi0wMDk1ZjhjMjM1YWInLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufSk7XHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuLy8g0J/QvtC70YPRh9C10L3QuNC1INCz0L7RgtC+0LLRi9GFINC60LDRgNGC0L7Rh9C10Log0Lgg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSDRgdC10YDQstC10YDQsFxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRDYXJkc1NlcnZlcigpXSlcclxuICAudGhlbigoW3VzZXJEYXRhLCBpbml0aWFsQ2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICB9KTtcclxuXHJcbi8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCh0J7Ql9CU0JDQndCY0JUg0JrQkNCg0KLQntCn0JXQmi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuLy/QvtGC0LrRgNGL0YLQuNC1INC60LDRgNGC0L3QutC4INC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC90LXRkVxyXG5jb25zdCBoYW5kbGVJbWFnZUNsaWNrID0gZnVuY3Rpb24gKCBuYW1lLCBsaW5rKSB7XHJcbiAgcG9wdXBab29tLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcbi8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4INC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC60L7RgNC30LjQvdGDXHJcbmNvbnN0IGhhbmRsZURlbGV0ZUltYWdlQ2xpY2sgPSBmdW5jdGlvbiAoY2FyZEVsZW1lbnQsIGNhcmRJZCkge1xyXG4gIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKGNhcmRFbGVtZW50LCBjYXJkSWQpO1xyXG59XHJcbi8qXHJcbi8v0L/QvtGB0YLQsNCy0LrQsCDQu9Cw0LnQutCwXHJcbmNvbnN0IGhhbmRsZVNldExpa2UgPSBmdW5jdGlvbiAoY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gIGNvbnNvbGUubG9nKGNhcmRFbGVtZW50KTtcclxuICBhcGkuY2xpY2tMaWtlKGNhcmRJZClcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGNhcmRFbGVtZW50KTtcclxuICAgICAgY2FyZEVsZW1lbnQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy/Rg9C00LDQu9C10L3QuNC1INC70LDQudC60LBcclxuY29uc3QgaGFuZGxlRGVsZXRlTGlrZSA9IGZ1bmN0aW9uIChjYXJkSWQsIGNhcmRFbGVtZW50KSB7XHJcbiAgYXBpLmRlbGV0ZUxpa2UoY2FyZElkKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coY2FyZEVsZW1lbnQpO1xyXG4gICAgICBjYXJkRWxlbWVudC5oYW5kbGVMaWtlQ2FyZChkYXRhKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgIH0pO1xyXG59XHJcbiovXHJcbi8v0L7RgtGA0LjRgdC+0LLQutCwINC90LDRh9Cw0LvRjNC90YvRhSDQutCw0YDRgtC+0YfQtdC6INC90LAg0YHRgtGA0LDQvdC40YbQtSDQuNC3INC80LDRgdGB0LjQstCwIFxyXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbiAoe1xyXG4gIHJlbmRlcmVyOiAoY2FyZEVsZW1lbnQpID0+IHtcclxuICAgIGNhcmRzTGlzdC5zZXRJdGVtKGFkZEVsZW1lbnQoY2FyZEVsZW1lbnQpKTtcclxuICB9LFxyXG59LCcuZWxlbWVudHMnKTtcclxuXHJcbi8v0YTRg9C90LrRhtC40L7QvdCw0Lsg0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgYWRkRWxlbWVudCA9IGZ1bmN0aW9uIChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoe1xyXG4gICAgZGF0YTogY2FyZERhdGEsXHJcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yOiAnLmVsZW1lbnQtdGVtcGxhdGUnLFxyXG4gICAgdXNlcklkOiB1c2VySWQsXHJcbiAgICBoYW5kbGVTZXRMaWtlOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgIGFwaS5jbGlja0xpa2UoY2FyZElkKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LmhhbmRsZUxpa2UoZGF0YSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZURlbGV0ZUxpa2U6IChjYXJkSWQpID0+IHtcclxuICAgICAgYXBpLmRlbGV0ZUxpa2UoY2FyZElkKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LmhhbmRsZUxpa2UoZGF0YSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlSW1hZ2VDbGlja1xyXG4gICAgKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQuY3JlYXRlQ2FyZCgpO1xyXG59XHJcblxyXG4vL9C+0LHRitGP0LLQu9GP0LXQvCDQv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSgge1xyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9jYXJkJyxcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuICAgIHBvcHVwQWRkQ2FyZC5sb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpLmFkZENhcmQoZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChmb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRzTGlzdC5zZXRJdGVtKGFkZEVsZW1lbnQoZm9ybURhdGEpKTtcclxuICAgICAgICBwb3B1cEFkZENhcmQuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwQWRkQ2FyZC5sb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59KTtcclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9GB0LvRg9GI0LDRgtC10LvRjCDQvdCwINC40LrQvdC+0LrRgyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4ge1xyXG4gIGNhcmRQb3B1cFZhbGlkYXRlLnJlc2V0U3VibWl0KCk7XHJcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcclxufSlcclxuXHJcbi8v0J/QvtC/0LDQvyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LggXHJcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9kZWxldGUtY2FyZCcsXHJcbiAgaGFuZGxlRGVsZXRlQ2FyZDogKGNhcmRFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICAgIGFwaS5kZWxldGVDYXJkKGNhcmRJZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxufSk7XHJcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/Qv9C+0L/QsNC/INC/0YDQvtGB0LzQvtGC0YDQsCDQuNC30L7QsdGA0LDQttC10L3QuNGPXHJcbmNvbnN0IHBvcHVwWm9vbSA9IG5ldyBQb3B1cFdpdGhJbWFnZSAoJyNpbWFnZS1wb3B1cCcpO1xyXG5wb3B1cFpvb20uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JjQndCk0J7QoNCc0JDQptCY0K8g0J/QoNCe0KTQmNCb0K8tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuICAvL9GB0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwLCDQvtGC0LLQtdGH0LDRjtGJ0LXQs9C+INC30LDQvtGC0L7QsdGA0LDQttC10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxyXG4gIGNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIHVzZXJuYW1lOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gICAgam9iOiAnLnByb2ZpbGVfX3RleHQnLFxyXG4gICAgYXZhdGFyOiAnLnByb2ZpbGVfX2F2YXRhcidcclxuICB9KTtcclxuXHJcbi8v0JfQsNC90L7RgdC40Lwg0LTQsNC90L3Ri9C1INCyINGE0L7RgNC80YMg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuZnVuY3Rpb24gYWRkRGF0YUVkaXRQcm9maWxlRm9ybSh7dXNlcm5hbWUsIGpvYn0pe1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJuYW1lO1xyXG4gIGpvYklucHV0LnZhbHVlID0gam9iO1xyXG59O1xyXG5cclxuLy/QntCx0YzRj9Cy0LvQtdC90LjQtSDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwb3B1cFJlZGFjdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX3Byb2ZpbGUnLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChwcm9maWxlRGF0YSkgPT4ge1xyXG4gICAgcG9wdXBSZWRhY3RQcm9maWxlLmxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGkuZWRpdFVzZXJJbmZvKHByb2ZpbGVEYXRhKVxyXG4gICAgICAudGhlbigocHJvZmlsZURhdGEpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhwcm9maWxlRGF0YSk7XHJcbiAgICAgICAgcG9wdXBSZWRhY3RQcm9maWxlLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsDogJHtlcnJ9Jyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cFJlZGFjdFByb2ZpbGUubG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbnBvcHVwUmVkYWN0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC90L7Qv9C60Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5pbmZvVXNlcigpfSk7XHJcblxyXG5jb25zdCBpbmZvVXNlciA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBpbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBhZGREYXRhRWRpdFByb2ZpbGVGb3JtKHtcclxuICAgIHVzZXJuYW1lOiBpbmZvLnVzZXJuYW1lLFxyXG4gICAgam9iOiBpbmZvLmpvYlxyXG4gIH0pO1xyXG4gIHByb2ZpbGVQb3B1cFZhbGlkYXRlLnJlc2V0U3VibWl0KCk7XHJcbiAgcG9wdXBSZWRhY3RQcm9maWxlLm9wZW4oKTtcclxufVxyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNC1INC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLRgtCw0YDQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuY29uc3QgZWRpdEF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9hdmF0YXInLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBlZGl0QXZhdGFyUG9wdXAubG9hZGluZyh0cnVlKTtcclxuICAgIGFwaS5lZGl0QXZhdGFyKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgLy9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgICAgZWRpdEF2YXRhclBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBlZGl0QXZhdGFyUG9wdXAubG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbmVkaXRBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/QntCx0YDQsNCx0L7RgtGH0LjQuiDQutC90L7Qv9C60LggRWRpdCDQsNCy0LDRgtCw0YDQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuYnV0dG9uRWRpdEF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBhdmF0YXJQb3B1cFZhbGlkYXRlLnJlc2V0U3VibWl0KCk7XHJcbiAgZWRpdEF2YXRhclBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JLQkNCb0JjQlNCQ0KbQmNCvINCk0J7QoNCcLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cclxuXHJcbi8v0YHQvtC30LTQsNC10Lwg0Y3QutC30LXQvNC/0LvRj9GAINCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVQb3B1cFZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcHJvZmlsZVBvcHVwRm9ybSk7XHJcbi8v0JLRi9C30YvQstCw0LXQvCBlbmFibGVWYWxpZGF0aW9uINC00LvRjyDRhNC+0YDQvNGLINC40LfQvNC10L3QtdC90LjRjyDQtNCw0L3QvdGL0YUg0L/RgNC+0YTQuNC70Y9cclxucHJvZmlsZVBvcHVwVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vL9GB0L7Qt9C00LDQtdC8INGN0LrQt9C10LzQv9C70Y/RgCDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNhcmRQb3B1cFZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgY2FyZFBvcHVwRm9ybSk7XHJcbi8v0LLRi9C30YvQstCw0LXQvCBlbmFibGVWYWxpZGF0aW9uINC00LvRjyDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jYXJkUG9wdXBWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbi8v0YHQvtC30LTQsNC10Lwg0Y3QutC30LXQvNC/0LvRj9GAINCy0LDQu9C40LTQsNGG0LjQuCDQtNC70Y8g0YTQvtGA0LzRiyDRgdC80LXQvdGLINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IGF2YXRhclBvcHVwVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWRpdEF2YXRhcik7XHJcbi8v0LLRi9C30YvQstCw0LXQvCBlbmFibGVWYWxpZGF0aW9uINC00LvRjyDRhNC+0YDQvNGLINGB0LzQtdC90Ysg0LDQstCw0YLQsNGA0LBcclxuYXZhdGFyUG9wdXBWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vIl0sIm5hbWVzIjpbIkFwaSIsIm9wdGlvbnMiLCJ0aGlzIiwiX2Jhc2VVcjEiLCJiYXNlVXIxIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9wYXJzZVJlc3BvbnNlIiwiZGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImxpbmsiLCJjYXJkSWQiLCJ1c2VybmFtZSIsImFib3V0Iiwiam9iIiwiYXZhdGFyIiwiQ2FyZCIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVJbWFnZUNsaWNrIiwidGVtcGxhdGVTZWxlY3RvciIsInVzZXJJZCIsImhhbmRsZVNldExpa2UiLCJoYW5kbGVEZWxldGVMaWtlIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VDYXJkIiwiX2RlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVJbWFnZUNsaWNrIiwiX2NhcmRFbGVtZW50IiwiX2NhcmRJZCIsIl9lbGVtZW50TWFzayIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2xpbmsiLCJfbmFtZSIsIl9saWtlcyIsImxpa2VzIiwiX2lkIiwiX2NhcmRPd25lcklkIiwib3duZXIiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl91c2VySWQiLCJfaGFuZGxlU2V0TGlrZSIsIl9oYW5kbGVEZWxldGVMaWtlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50Q2FyZCIsIl9nZXRUZW1wbGF0ZSIsIl9lbGVtZW50VGV4dCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX2xpa2VOdW1iZXIiLCJfaXNDYXJkTGlrZWQiLCJfaGFzRGVsZXRlQnV0dG9uIiwibGVuZ3RoIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic29tZSIsInVzZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0b2dnbGUiLCJjb250YWlucyIsInJlbW92ZSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lclNlbGVjdG9yIiwicmV2ZXJzZSIsImZvckVhY2giLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJVc2VySW5mbyIsIl91c2VybmFtZSIsIl9qb2IiLCJfYXZhdGFyIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnZhY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsImtleSIsImNsb3NlIiwiX3BvcHVwSXRlbSIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybUl0ZW0iLCJfcG9wdXBMaXN0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25UZXh0IiwiZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0xvYWRpbmciLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwTmFtZSIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsImhhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9zdWJtaXQiLCJjYXJkRWxlbWVudCIsImVkaXRCdXR0b24iLCJwcm9maWxlUG9wdXAiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImFkZEJ1dHRvbiIsInByb2ZpbGVQb3B1cEZvcm0iLCJjYXJkUG9wdXBGb3JtIiwiZm9ybUVkaXRBdmF0YXIiLCJidXR0b25FZGl0QXZhdGFyIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldENhcmRzU2VydmVyIiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2FyZHNMaXN0IiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cFpvb20iLCJvcGVuIiwiZGVsZXRlQ2FyZFBvcHVwIiwic2V0SXRlbSIsImFkZEVsZW1lbnQiLCJjYXJkRGF0YSIsImNsaWNrTGlrZSIsImhhbmRsZUxpa2UiLCJkZWxldGVMaWtlIiwiY3JlYXRlQ2FyZCIsInBvcHVwQWRkQ2FyZCIsImZvcm1EYXRhIiwibG9hZGluZyIsImFkZENhcmQiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkUG9wdXBWYWxpZGF0ZSIsInJlc2V0U3VibWl0IiwiZGVsZXRlQ2FyZCIsInBvcHVwUmVkYWN0UHJvZmlsZSIsInByb2ZpbGVEYXRhIiwiZWRpdFVzZXJJbmZvIiwiaW5mb1VzZXIiLCJpbmZvIiwicHJvZmlsZVBvcHVwVmFsaWRhdGUiLCJlZGl0QXZhdGFyUG9wdXAiLCJlZGl0QXZhdGFyIiwiYXZhdGFyUG9wdXBWYWxpZGF0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9